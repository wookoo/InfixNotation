# 중위 > 후위 변환어플

중위식을 후위식으로 변환하는 어플입니다.

개발환경 : 윈도우 10, Android Studio 3 이상

개발 언어 : xml (디자인) , Kotlin (메인 소스)

개발 목적 : 코틀린 학습 및, 중위로 표현된 수식을 후위로 변환함으로써 스택을 응용해보기.

<hr>

## 파일 구성

파일은 크게 2가지 파일로 구분됩니다.

1. Stack.kt

2. Calculate.kt


### Stack.kt

스택의 클래스를 구현해 놓은 소스입니다.

보다 효율적인 사용을 위해, ArrayList 를 활용하여 스택을 구현하였습니다.

구현 해 놓은 메소드는 다음과 같습니다.

- push
    - 클래스 내의 ArrayList 의 맨 뒤에 값을 추가합니다.
- pop
    - 클래스 내의 ArrayList 의 맨 뒤의 값을 제거하고 반환합니다.
- peek
    - 클래스 내의 ArrayList 의 맨 뒤의 값을 그냥 반환합니다.
- Is_empty
    - 클래스 내의 top 필드가 -1 이면, 참, 아니면 거짓을 반환합니다.


push
- ArrayList 의 add 메소드를 사용하여 ArrayList 에 값을 추가합니다.
- 값이 추가 되었으면, int 형 필드 top 의 크기를 1 증가시킵니다.

pop
- 스택이 비어있지 않으면 ArrayList 의 get 메소드를 사용하여 마지막 인덱스가 가진 값을 임시 변수에 저장합니다.
- 값이 저장되었으면, removeAt 메소드를 사용하여 스택의 맨 마지막 index 의 값을 지웁니다.
- 저장된 값을 반환합니다.
- 스택이 비어있을 경우 -1 을 반환합니다.

peek
- 스택이 비어있지 않으면 ArrayList 의 get메소드를 사용하여 마지막 인덱스가 가진 값을 반환합니다.
- 스택이 비어있으면 -1을 반환합니다.

<hr>

### Calculate.kt

크게 기능을 3가지로 나눌 수 있습니다.

1. 숫자 버튼을 눌렀을때

2. 기호 버튼을 눌렀을때

3. 계산 버튼을 눌렀을때

#### 숫자 버튼을 눌렀을때

숫자 버튼을 눌렀을때는 다음과 같습니다.

1. TextView 가 빈 String 인지 확인합니다. 빈스트링이면 그냥 숫자를 넣습니다.

2. TextView 가 빈 String 이 아니면, 이전 String 의 index 값을 확인해봅니다. 숫자면, 누른 숫자로 바꾸고, 기호면 그대로 숫자를 추가합니다.

#### 기호 버튼을 눌렀을때는

기호 버튼을 눌렀을때는 다음과 같습니다.

1. TextView 가 빈 String 인지 확인합니다. 빈 스트링이면 아무 작업도 수행하지 않습니다.

2. TextView 가 빈 String 이 아니면, 이전 String의 index 값을 확인해봅니다. 이전 String의 index 값이 숫자면, 기호를 추가합니다.

3. 2에서 수행한 숫자가 아닌 기호면, 누른 기호로 그 기호를 바꿔버립니다.


#### 계산 버튼을 눌렀을때

계산 버튼을 눌렀을때는 다음과 같습니다.

1. TextView 가 빈 String 인지 확인합니다. 빈 String 이면 아무 작업도 수행하지 않습니다.

2. TextView 가 마지막 index 가 기호인지 확인합니다. 기호이면, 변환을 하지 않고, 올바르지 않은 수식이라고 Toast Message 를 출력해줍니다.

3. TextView 가 마지막 index 가 기호가 아니면, 괄호쌍 검사를 수행하게 됩니다.

4. 괄호쌍 검사는 ( 가 나오면 Stack 에 push 를 수행합니다. ) 가 나오면 pop 을 수행합니다. 만약 스택이 비었는데 ) 가 나오면, 괄호쌍을 확인하라는 Toast Message 를 출력합니다.

5. 괄호쌍 검사를 다 마치고, Stack 이 비었나 확인해줍니다. 스택이 비어있지 않아도 올바르지 않은 괄호쌍이라고 Toast Message 를 출력합니다.

6. 모두 정상적으로 식 검사가 끝났으면, 그제서야 변환 작업에 들어갑니다. 스트링의 최대 index 까지 접근할대 동안 적절히 push 와 pop, 스트링에 값을 추가하는 작업을 진행합니다.

7. 그 후 6번에서 생성된 스트링을 사용자에게 보여줍니다. 
